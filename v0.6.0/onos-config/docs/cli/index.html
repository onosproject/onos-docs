<!--
Copyright 2019-present Open Networking Foundation
SPDX-FileCopyrightText: 2022 2020-present Open Networking Foundation <info@opennetworking.org>

SPDX-License-Identifier: Apache-2.0
--> <!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="Open Network Operating System (ONOS)"><meta name=author content="Open Networking Foundation"><meta name=lang:clipboard.copy content="Copy to clipboard"><meta name=lang:clipboard.copied content="Copied to clipboard"><meta name=lang:search.language content=en><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content="No matching documents"><meta name=lang:search.result.one content="1 matching document"><meta name=lang:search.result.other content="# matching documents"><meta name=lang:search.tokenizer content=[\s\-]+><link rel="shortcut icon" href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.0.4, mkdocs-material-4.0.2"><title>Administrative And Diagnostic CLI - onosproject</title><link rel=stylesheet href=../../../assets/stylesheets/application.982221ab.css><script src=../../../assets/javascripts/modernizr.1f0bcf2b.js></script><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../../../assets/fonts/material-icons.css><link rel=stylesheet href=../../../styles/css/extra.css><link rel=stylesheet href=../../../theme/css/onos-menu.css></head> <body dir=ltr> <svg class=md-svg> <defs> <svg xmlns=http://www.w3.org/2000/svg width=416 height=448 viewbox="0 0 416 448" id=__github> <path fill=currentColor d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z"/> </svg> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#administrative-and-diagnostic-command-line tabindex=1 class=md-skip> Skip to content </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=../../.. title=onosproject class="md-header-nav__button md-logo"> <img src=../../../images/onos_logo_2017.png width=24 height=24> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> onosproject </span> <span class=md-header-nav__topic> Administrative And Diagnostic CLI </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search></label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=query data-md-state=active> <label class="md-icon md-search__icon" for=__search></label> <button type=reset class="md-icon md-search__icon" data-md-component=reset tabindex=-1> &#xE5CD; </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=result> <div class=md-search-result__meta> Type to start searching </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source> <a href=https://github.com/onosproject title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> onosproject </div> </a> </div> </div> </div> </nav> </header> <div class=md-container> <main class=md-main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=__drawer> <a href=../../.. title=onosproject class="md-nav__button md-logo"> <img src=../../../images/onos_logo_2017.png width=48 height=48> </a> onosproject </label> <div class=md-nav__source> <a href=https://github.com/onosproject title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> onosproject </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. title=ONOS class=md-nav__link> ONOS </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> Developers </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-2> Developers </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../onos-docs/docs/content/developers/community-info/ title="Contacts and Calendars" class=md-nav__link> Contacts and Calendars </a> </li> <li class=md-nav__item> <a href=../../../onos-docs/docs/content/developers/prerequisites/ title="Development Prerequisites" class=md-nav__link> Development Prerequisites </a> </li> <li class=md-nav__item> <a href=../../../onos-docs/docs/content/developers/dev_workflow/ title="Developer Workflow" class=md-nav__link> Developer Workflow </a> </li> <li class=md-nav__item> <a href=../../../onos-docs/docs/content/developers/contributing/ title="Contribution Guidelines" class=md-nav__link> Contribution Guidelines </a> </li> <li class=md-nav__item> <a href=../../../onos-docs/docs/content/developers/godocs/ title="GoDoc Pages" class=md-nav__link> GoDoc Pages </a> </li> <li class=md-nav__item> <a href=../../../onos-docs/docs/content/developers/deploy_with_helm/ title="Deploy with Helm" class=md-nav__link> Deploy with Helm </a> </li> <li class=md-nav__item> <a href=../../../onos-docs/docs/content/developers/deploy_on_gcp/ title="Deploy with Helm on GCP" class=md-nav__link> Deploy with Helm on GCP </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3 type=checkbox id=nav-3 checked> <label class=md-nav__link for=nav-3> Configuration Subsystem </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-3> Configuration Subsystem </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ title="An Introduction to Configuration Susbsytem" class=md-nav__link> An Introduction to Configuration Susbsytem </a> </li> <li class=md-nav__item> <a href=../build/ title="How To Build Configuration Subsystem?" class=md-nav__link> How To Build Configuration Subsystem? </a> </li> <li class=md-nav__item> <a href=../run/ title="How To Run Configuration Subsystem?" class=md-nav__link> How To Run Configuration Subsystem? </a> </li> <li class=md-nav__item> <a href=../deployment/ title="How To Deploy with Helm" class=md-nav__link> How To Deploy with Helm </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-toggle md-nav__toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Administrative And Diagnostic CLI </label> <a href=./ title="Administrative And Diagnostic CLI" class="md-nav__link md-nav__link--active"> Administrative And Diagnostic CLI </a> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#usage title=Usage class=md-nav__link> Usage </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#global-flags title="Global Flags" class=md-nav__link> Global Flags </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#example-commands title="Example Commands" class=md-nav__link> Example Commands </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#rollback-network-change title="Rollback Network Change" class=md-nav__link> Rollback Network Change </a> </li> <li class=md-nav__item> <a href=#listing-and-loading-model-plugins title="Listing and Loading model plugins" class=md-nav__link> Listing and Loading model plugins </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#other-diagnostic-commands title="Other Diagnostic Commands" class=md-nav__link> Other Diagnostic Commands </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#list-and-watch-changes title="List and Watch Changes" class=md-nav__link> List and Watch Changes </a> </li> <li class=md-nav__item> <a href=#devicetree title=Devicetree class=md-nav__link> Devicetree </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../modelplugin/ title="Extending Configuration Subsystem With Model Plugins" class=md-nav__link> Extending Configuration Subsystem With Model Plugins </a> </li> <li class=md-nav__item> <a href=../gnmi/ title="Northbound gNMI Service" class=md-nav__link> Northbound gNMI Service </a> </li> <li class=md-nav__item> <a href=../gnmi_extensions/ title="gNMI Extensions" class=md-nav__link> gNMI Extensions </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3-9 type=checkbox id=nav-3-9> <label class=md-nav__link for=nav-3-9> APIs </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-3-9> APIs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../api/admin/ title="Admin API" class=md-nav__link> Admin API </a> </li> <li class=md-nav__item> <a href=../api/diags/ title="Diagnostic API" class=md-nav__link> Diagnostic API </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3-9-3 type=checkbox id=nav-3-9-3> <label class=md-nav__link for=nav-3-9-3> Types </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-3-9-3> Types </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../api/types_change/ title="Common Change Types" class=md-nav__link> Common Change Types </a> </li> <li class=md-nav__item> <a href=../api/types_change_device/ title="Device Change Types" class=md-nav__link> Device Change Types </a> </li> <li class=md-nav__item> <a href=../api/types_change_network/ title="Network Change Types" class=md-nav__link> Network Change Types </a> </li> <li class=md-nav__item> <a href=../api/types_snapshot/ title="Common Snapshot Types" class=md-nav__link> Common Snapshot Types </a> </li> <li class=md-nav__item> <a href=../api/types_snapshot_device/ title="Device Snapshot Types" class=md-nav__link> Device Snapshot Types </a> </li> <li class=md-nav__item> <a href=../api/types_snapshot_network/ title="Network Snapshot Types" class=md-nav__link> Network Snapshot Types </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4 type=checkbox id=nav-4> <label class=md-nav__link for=nav-4> Topology Subsystem </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-4> Topology Subsystem </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../onos-topo/docs/cli/ title="How To Use Topology Subsystem CLI?" class=md-nav__link> How To Use Topology Subsystem CLI? </a> </li> <li class=md-nav__item> <a href=../../../onos-topo/docs/deployment/ title="How To Deploy with Helm" class=md-nav__link> How To Deploy with Helm </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-3 type=checkbox id=nav-4-3> <label class=md-nav__link for=nav-4-3> APIs </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-4-3> APIs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../onos-topo/docs/api/admin/ title="Admin API" class=md-nav__link> Admin API </a> </li> <li class=md-nav__item> <a href=../../../onos-topo/docs/api/diags/ title="Diagnostic API" class=md-nav__link> Diagnostic API </a> </li> <li class=md-nav__item> <a href=../../../onos-topo/docs/api/device/ title="Device API" class=md-nav__link> Device API </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5 type=checkbox id=nav-5> <label class=md-nav__link for=nav-5> Command Line Interface Subsystem (CLI) </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-5> Command Line Interface Subsystem (CLI) </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../onos-cli/docs/setup/ title="How To Install and Run CLI Subsystem?" class=md-nav__link> How To Install and Run CLI Subsystem? </a> </li> <li class=md-nav__item> <a href=../../../onos-cli/docs/deployment/ title="How To Deploy with Helm" class=md-nav__link> How To Deploy with Helm </a> </li> <li class=md-nav__item> <a href=../../../onos-cli/docs/cli/onos/ title="ONOS CLI Commands" class=md-nav__link> ONOS CLI Commands </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6 type=checkbox id=nav-6> <label class=md-nav__link for=nav-6> Zero-Touch Provisioning (ZTP) Subsystem </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-6> Zero-Touch Provisioning (ZTP) Subsystem </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../onos-ztp/docs/setup/ title="How To Install And Run ZTP?" class=md-nav__link> How To Install And Run ZTP? </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6-2 type=checkbox id=nav-6-2> <label class=md-nav__link for=nav-6-2> APIs </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-6-2> APIs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../onos-ztp/docs/api/admin/ title="Admin API" class=md-nav__link> Admin API </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7 type=checkbox id=nav-7> <label class=md-nav__link for=nav-7> Test Tools </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-7> Test Tools </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../onos-test/docs/overview/ title="Overview Of ONIT" class=md-nav__link> Overview Of ONIT </a> </li> <li class=md-nav__item> <a href=../../../onos-test/docs/getting-started/ title="Getting started with ONIT" class=md-nav__link> Getting started with ONIT </a> </li> <li class=md-nav__item> <a href=../../../onos-test/docs/testing/ title="How To Write and Run Tests?" class=md-nav__link> How To Write and Run Tests? </a> </li> <li class=md-nav__item> <a href=../../../onos-test/docs/debugging/ title="Debugging with ONIT" class=md-nav__link> Debugging with ONIT </a> </li> <li class=md-nav__item> <a href=../../../onos-test/docs/cli/onit/ title="ONIT CLI Commands" class=md-nav__link> ONIT CLI Commands </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8 type=checkbox id=nav-8> <label class=md-nav__link for=nav-8> Graphical User Interface (GUI) </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-8> Graphical User Interface (GUI) </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../onos-gui/docs/ title="ONOS-GUI Subsystem" class=md-nav__link> ONOS-GUI Subsystem </a> </li> <li class=md-nav__item> <a href=../../../onos-gui/docs/config-gui/ title="Configuration GUI" class=md-nav__link> Configuration GUI </a> </li> <li class=md-nav__item> <a href=../../../onos-gui/docs/ran-gui/ title="SD-RAN GUI" class=md-nav__link> SD-RAN GUI </a> </li> <li class=md-nav__item> <a href=../../../onos-gui/docs/architecture/ title="GUI Architecture" class=md-nav__link> GUI Architecture </a> </li> <li class=md-nav__item> <a href=../../../onos-gui/docs/prerequisites/ title="GUI Development Prerequisites" class=md-nav__link> GUI Development Prerequisites </a> </li> <li class=md-nav__item> <a href=../../../onos-gui/docs/deployment/ title="How to Deploy and Run with Helm?" class=md-nav__link> How to Deploy and Run with Helm? </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-9 type=checkbox id=nav-9> <label class=md-nav__link for=nav-9> Logging and Monitoring </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-9> Logging and Monitoring </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-9-1 type=checkbox id=nav-9-1> <label class=md-nav__link for=nav-9-1> Logging </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-9-1> Logging </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../onos-lib-go/docs/logging/logging/ title="Overview of Logging" class=md-nav__link> Overview of Logging </a> </li> <li class=md-nav__item> <a href=../../../onos-lib-go/docs/logging/api/logging/ title="Logging API" class=md-nav__link> Logging API </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../tlaplus-monitor/docs/ title="Conformance Monitoring with TLA+" class=md-nav__link> Conformance Monitoring with TLA+ </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#usage title=Usage class=md-nav__link> Usage </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#global-flags title="Global Flags" class=md-nav__link> Global Flags </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#example-commands title="Example Commands" class=md-nav__link> Example Commands </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#rollback-network-change title="Rollback Network Change" class=md-nav__link> Rollback Network Change </a> </li> <li class=md-nav__item> <a href=#listing-and-loading-model-plugins title="Listing and Loading model plugins" class=md-nav__link> Listing and Loading model plugins </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#other-diagnostic-commands title="Other Diagnostic Commands" class=md-nav__link> Other Diagnostic Commands </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#list-and-watch-changes title="List and Watch Changes" class=md-nav__link> List and Watch Changes </a> </li> <li class=md-nav__item> <a href=#devicetree title=Devicetree class=md-nav__link> Devicetree </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <h1 id=administrative-and-diagnostic-command-line>Administrative and Diagnostic Command-Line</h1> <p>The project provides a command-line facilities for remotely interacting with the administrative and diagnostic services of the <code>onos-config</code> server.</p> <p>The commands are available at run-time using the consolidated <code>onos</code> client hosted in the <code>onos-cli</code> repository, but their implementation is hosted and built here.</p> <p>The documentation about building and deploying the consolidate <code>onos</code> client or its Docker container is available in the <code>onos-cli</code> GitHub repository.</p> <h2 id=usage>Usage</h2> <div class=codehilite><pre><span></span>&gt; onos config --help
ONOS configuration subsystem commands

Usage:
  onos config <span class=o>[</span>command<span class=o>]</span>

Available Commands:
  add             Add a config resource
  compact-changes Takes a snapshot of network and device changes
  config          Manage the CLI configuration
  get             Get config resources
  rollback        Rolls-back a network change
  snapshot        Commands <span class=k>for</span> managing snapshots
  watch           Watch <span class=k>for</span> updates to a config resource <span class=nb>type</span>

Flags:
  -h, --help                     <span class=nb>help</span> <span class=k>for</span> config
      --no-tls                   <span class=k>if</span> present, <span class=k>do</span> not use TLS
      --service-address string   the onos-config service address <span class=o>(</span>default <span class=s2>&quot;onos-config:5150&quot;</span><span class=o>)</span>
      --tls-cert-path string     the path to the TLS certificate
      --tls-key-path string      the path to the TLS key

Use <span class=s2>&quot;onos config [command] --help&quot;</span> <span class=k>for</span> more information about a command.
</pre></div> <h3 id=global-flags>Global Flags</h3> <p>Since the <code>onos</code> command is a client, it requires the address of the server as well as the paths to the key and the certificate to establish secure connection to the server.</p> <p>These options are global to all commands and can be persisted to avoid having to specify them for each command. For example, you can set the default server address as follows:</p> <div class=codehilite><pre><span></span>&gt; onos config config <span class=nb>set</span> address onos-config-server:5150
</pre></div> <p>Subsequent usages of the <code>onos</code> command can then abstain from using the <code>--address</code> option to indicate the server address, resulting in easier usage.</p> <h2 id=example-commands>Example Commands</h2> <h3 id=rollback-network-change>Rollback Network Change</h3> <p>To rollback a network use the rollback admin tool. This will rollback the last network change unless a specific change is given with the <code>changename</code> parameter</p> <div class=codehilite><pre><span></span>&gt; onos config rollback Change-VgUAZI928B644v/2XQ0n24x0SjA<span class=o>=</span>
</pre></div> <h3 id=listing-and-loading-model-plugins>Listing and Loading model plugins</h3> <p>A model plugin is a shared object library that represents the YANG models of a particular Device Type and Version. The plugin allows user to create and load their own device models in to onos-config that can be used for validating that configuration changes observe the structure of the YANG models in use on the device. This improves usability by pushing information about the devices' model back up to the onos-config gNMI northbound interface.</p> <p>Model plugins can be loaded at the startup of onos-config by (repeated) <code>--modelPlugin</code> options, or they can be loaded at run time. To see the list of currently loaded plugins use the command:</p> <div class=codehilite><pre><span></span>&gt; onos config get plugins
</pre></div> <p>To load a plugin dynamically at runtime use the command:</p> <div class=codehilite><pre><span></span>&gt; onos config add plugin &lt;full path and filename of a compatible shared object library on target machine&gt;
</pre></div> <blockquote> <p>NOTE: Model Plugins cannot be dynamically unloaded - a restart of onos-config is required to unload. In a distributed environment the ModelPlugin will have to be loaded on all instances of onos-config</p> </blockquote> <h2 id=other-diagnostic-commands>Other Diagnostic Commands</h2> <p>There are a number of commands that provide internal view into the state the onos-config store. These tools use a special-purpose gRPC interfaces to obtain the internal meta-data from the running onos-config process. Please note that these tools are intended purely for diagnostics and should not be relied upon for programmatic purposes as they are not subject to any backward compatibility guarantees.</p> <h3 id=list-and-watch-changes>List and Watch Changes</h3> <p>For example, to list and watch all changes stored internally run:</p> <div class=codehilite><pre><span></span>&gt; onos config watch network-changes
...
</pre></div> <p>or to watch <code>device-changes</code></p> <div class=codehilite><pre><span></span>&gt; onos config watch device-changes
...
</pre></div> <h3 id=devicetree>Devicetree</h3> <p>To get the aggregate configuration of a device in a hierarchical JSON structure from the store use:</p> <div class=codehilite><pre><span></span>&gt; onos config get devicetree --layer <span class=m>0</span> Device1
DEVICE          CONFIGURATION       TYPE        VERSION
Device1                 Device1-1.0.0           TestDevice      <span class=m>1</span>.0.0
CHANGE: <span class=nv>2uUbeEV4i3ADedjeORmgQt6CVDM</span><span class=o>=</span>
CHANGE: <span class=nv>tAk3GZSh1qbdhdm5414r46RLvqw</span><span class=o>=</span>
CHANGE: MY8s8Opw+xjbcARIMzIpUIzeXv0<span class=o>=</span>
TREE:
<span class=o>{</span><span class=s2>&quot;cont1a&quot;</span>:<span class=o>{</span><span class=s2>&quot;cont2a&quot;</span>:<span class=o>{</span><span class=s2>&quot;leaf2a&quot;</span>:13,<span class=s2>&quot;leaf2b&quot;</span>:1.14159,<span class=s2>&quot;leaf2c&quot;</span>:<span class=s2>&quot;def&quot;</span>,<span class=s2>&quot;leaf2d&quot;</span>:0.002,<span class=s2>&quot;leaf2e&quot;</span>:<span class=o>[</span>-99,-4,5,200<span class=o>]</span>,<span class=s2>&quot;leaf2g&quot;</span>:false<span class=o>}</span>,<span class=s2>&quot;leaf1a&quot;</span>:<span class=s2>&quot;abcdef&quot;</span>,<span class=s2>&quot;list2a&quot;</span>:<span class=o>[{</span><span class=s2>&quot;name&quot;</span>:<span class=s2>&quot;txout1&quot;</span>,<span class=s2>&quot;tx-power&quot;</span>:8<span class=o>}</span>,<span class=o>{</span><span class=s2>&quot;name&quot;</span>:<span class=s2>&quot;txout3&quot;</span>,<span class=s2>&quot;tx-power&quot;</span>:16<span class=o>}]}</span>,<span class=s2>&quot;test1:leafAtTopLevel&quot;</span>:<span class=s2>&quot;WXY-1234&quot;</span><span class=o>}</span>
</pre></div> <blockquote> <p>This displays the list of changes IDs and the aggregate effect of layering each one on top of the other. This is the <em>effective</em> configuration.</p> <p>By default all layers are shown (<code>layer=0</code>). To show the previous <em>effective</em> configuration use <code>layer=-1</code></p> <p>To display the devices trees for all devices, just omit the device name.</p> </blockquote> </article> </div> </div> </main> <!-- Application footer --> <footer class=md-footer> <!-- Further information --> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <!-- Copyright and theme information --> <div class=md-footer-copyright> powered by <a href=https://www.mkdocs.org title=MkDocs>MkDocs</a> and <a href=https://squidfunk.github.io/mkdocs-material/ title="Material for MkDocs"> Material for MkDocs</a> </div> <!-- Social links --> <div class=md-footer-social> <link rel=stylesheet href=../../../assets/fonts/font-awesome.css> <a href=https://github.com/onosproject class="md-footer-social__link fa fa-"></a> <a href=https://onosproject.slack.com/ class="md-footer-social__link fa fa-"></a> <a href=https://www.youtube.com/channel/UCTQaOpqno48GTimdwyfytFw class="md-footer-social__link fa fa-"></a> </div> </div> </div> </footer> </div> <script src=../../../assets/javascripts/application.d9aa80ab.js></script> <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script> <script src=../../../theme/js/onos-menu.js></script> </body> </html>