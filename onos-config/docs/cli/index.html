<!--
Copyright 2019-present Open Networking Foundation
SPDX-FileCopyrightText: 2022 2020-present Open Networking Foundation <info@opennetworking.org>

SPDX-License-Identifier: Apache-2.0
--> <!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="Open Network Operating System (ONOS)"><meta name=author content="Open Networking Foundation"><meta name=lang:clipboard.copy content="Copy to clipboard"><meta name=lang:clipboard.copied content="Copied to clipboard"><meta name=lang:search.language content=en><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content="No matching documents"><meta name=lang:search.result.one content="1 matching document"><meta name=lang:search.result.other content="# matching documents"><meta name=lang:search.tokenizer content=[\s\-]+><link rel="shortcut icon" href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.0.4, mkdocs-material-4.0.2"><title>Administrative CLI - onosproject</title><link rel=stylesheet href=../../../assets/stylesheets/application.982221ab.css><script src=../../../assets/javascripts/modernizr.1f0bcf2b.js></script><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../../../assets/fonts/material-icons.css><link rel=stylesheet href=../../../styles/css/extra.css><link rel=stylesheet href=../../../theme/css/onos-menu.css></head> <body dir=ltr> <svg class=md-svg> <defs> <svg xmlns=http://www.w3.org/2000/svg width=416 height=448 viewbox="0 0 416 448" id=__github> <path fill=currentColor d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z"/> </svg> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#administrative-command-line tabindex=1 class=md-skip> Skip to content </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=../../.. title=onosproject class="md-header-nav__button md-logo"> <img src=../../../images/onos_logo_2017.png width=24 height=24> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> onosproject </span> <span class=md-header-nav__topic> Administrative CLI </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search></label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=query data-md-state=active> <label class="md-icon md-search__icon" for=__search></label> <button type=reset class="md-icon md-search__icon" data-md-component=reset tabindex=-1> &#xE5CD; </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=result> <div class=md-search-result__meta> Type to start searching </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source> <a href=https://github.com/onosproject title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> onosproject </div> </a> </div> </div> </div> </nav> </header> <div class=md-container> <main class=md-main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=__drawer> <a href=../../.. title=onosproject class="md-nav__button md-logo"> <img src=../../../images/onos_logo_2017.png width=48 height=48> </a> onosproject </label> <div class=md-nav__source> <a href=https://github.com/onosproject title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> onosproject </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. title=ONOS class=md-nav__link> ONOS </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> Developers </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-2> Developers </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../onos-docs/docs/content/developers/community-info/ title="Contacts and Calendars" class=md-nav__link> Contacts and Calendars </a> </li> <li class=md-nav__item> <a href=../../../onos-docs/docs/content/developers/prerequisites/ title="Development Prerequisites" class=md-nav__link> Development Prerequisites </a> </li> <li class=md-nav__item> <a href=../../../onos-docs/docs/content/developers/dev_workflow/ title="Developer Workflow" class=md-nav__link> Developer Workflow </a> </li> <li class=md-nav__item> <a href=../../../onos-docs/docs/content/developers/contributing/ title="Contribution Guidelines" class=md-nav__link> Contribution Guidelines </a> </li> <li class=md-nav__item> <a href=../../../onos-docs/docs/content/developers/godocs/ title="GoDoc Pages" class=md-nav__link> GoDoc Pages </a> </li> <li class=md-nav__item> <a href=../../../onos-docs/docs/content/developers/deploy_with_helm/ title="Deploy with Helm" class=md-nav__link> Deploy with Helm </a> </li> <li class=md-nav__item> <a href=../../../onos-docs/docs/content/developers/deploy_onos_classic/ title="Deploy ONOS classic" class=md-nav__link> Deploy ONOS classic </a> </li> <li class=md-nav__item> <a href=../../../onos-docs/docs/content/developers/deploy_on_gcp/ title="Deploy with Helm on GCP" class=md-nav__link> Deploy with Helm on GCP </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3 type=checkbox id=nav-3 checked> <label class=md-nav__link for=nav-3> Configuration Subsystem </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-3> Configuration Subsystem </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ title="An Introduction to Configuration Susbsytem" class=md-nav__link> An Introduction to Configuration Susbsytem </a> </li> <li class=md-nav__item> <a href=../build/ title="How To Build Configuration Subsystem?" class=md-nav__link> How To Build Configuration Subsystem? </a> </li> <li class=md-nav__item> <a href=../run/ title="How To Run Configuration Subsystem?" class=md-nav__link> How To Run Configuration Subsystem? </a> </li> <li class=md-nav__item> <a href=../deployment/ title="How To Deploy with Helm" class=md-nav__link> How To Deploy with Helm </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-toggle md-nav__toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Administrative CLI </label> <a href=./ title="Administrative CLI" class="md-nav__link md-nav__link--active"> Administrative CLI </a> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#usage title=Usage class=md-nav__link> Usage </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#global-flags title="Global Flags" class=md-nav__link> Global Flags </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#example-commands title="Example Commands" class=md-nav__link> Example Commands </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#listing-of-configuration-model-plugins title="Listing of configuration model plugins" class=md-nav__link> Listing of configuration model plugins </a> </li> <li class=md-nav__item> <a href=#list-configuration-transactions title="List configuration transactions" class=md-nav__link> List configuration transactions </a> </li> <li class=md-nav__item> <a href=#rollback-network-change title="Rollback Network Change" class=md-nav__link> Rollback Network Change </a> </li> <li class=md-nav__item> <a href=#listing-target-configurations title="Listing target configurations" class=md-nav__link> Listing target configurations </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../onos-config-model/docs/modelplugin/ title="Configuration Model Plugins" class=md-nav__link> Configuration Model Plugins </a> </li> <li class=md-nav__item> <a href=../gnmi/ title="Northbound gNMI Service" class=md-nav__link> Northbound gNMI Service </a> </li> <li class=md-nav__item> <a href=../gnmi_extensions/ title="gNMI Extensions" class=md-nav__link> gNMI Extensions </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3-9 type=checkbox id=nav-3-9> <label class=md-nav__link for=nav-3-9> APIs </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-3-9> APIs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../onos-api/docs/onos/config/admin/ title="Admin API" class=md-nav__link> Admin API </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3-9-2 type=checkbox id=nav-3-9-2> <label class=md-nav__link for=nav-3-9-2> Types </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-3-9-2> Types </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../onos-api/docs/onos/config/v2/value/ title="Value Types" class=md-nav__link> Value Types </a> </li> <li class=md-nav__item> <a href=../../../onos-api/docs/onos/config/v2/configuration/ title="Configuration Types" class=md-nav__link> Configuration Types </a> </li> <li class=md-nav__item> <a href=../../../onos-api/docs/onos/config/v2/transaction/ title="Transaction Types" class=md-nav__link> Transaction Types </a> </li> <li class=md-nav__item> <a href=../../../onos-api/docs/onos/config/v2/proposal/ title="Proposal Types" class=md-nav__link> Proposal Types </a> </li> <li class=md-nav__item> <a href=../../../onos-api/docs/onos/config/v2/extensions/ title="Extension Types" class=md-nav__link> Extension Types </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4 type=checkbox id=nav-4> <label class=md-nav__link for=nav-4> Topology Subsystem </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-4> Topology Subsystem </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../onos-topo/docs/cli/ title="How To Use Topology Subsystem CLI?" class=md-nav__link> How To Use Topology Subsystem CLI? </a> </li> <li class=md-nav__item> <a href=../../../onos-topo/docs/deployment/ title="How To Deploy with Helm" class=md-nav__link> How To Deploy with Helm </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-3 type=checkbox id=nav-4-3> <label class=md-nav__link for=nav-4-3> APIs </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-4-3> APIs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../onos-api/docs/onos/topo/topo/ title="Entity, Kind, Relationship API" class=md-nav__link> Entity, Kind, Relationship API </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5 type=checkbox id=nav-5> <label class=md-nav__link for=nav-5> Command Line Interface Subsystem (CLI) </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-5> Command Line Interface Subsystem (CLI) </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../onos-cli/docs/setup/ title="How To Install and Run CLI Subsystem?" class=md-nav__link> How To Install and Run CLI Subsystem? </a> </li> <li class=md-nav__item> <a href=../../../onos-cli/docs/deployment/ title="How To Deploy with Helm" class=md-nav__link> How To Deploy with Helm </a> </li> <li class=md-nav__item> <a href=../../../onos-cli/docs/cli/onos/ title="ONOS CLI Commands" class=md-nav__link> ONOS CLI Commands </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6 type=checkbox id=nav-6> <label class=md-nav__link for=nav-6> Graphical User Interface (GUI) </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-6> Graphical User Interface (GUI) </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../onos-gui/docs/ title="ONOS-GUI Subsystem" class=md-nav__link> ONOS-GUI Subsystem </a> </li> <li class=md-nav__item> <a href=../../../onos-gui/docs/config-gui/ title="Configuration GUI" class=md-nav__link> Configuration GUI </a> </li> <li class=md-nav__item> <a href=../../../onos-gui/docs/ran-gui/ title="SD-RAN GUI" class=md-nav__link> SD-RAN GUI </a> </li> <li class=md-nav__item> <a href=../../../onos-gui/docs/architecture/ title="GUI Architecture" class=md-nav__link> GUI Architecture </a> </li> <li class=md-nav__item> <a href=../../../onos-gui/docs/prerequisites/ title="GUI Development Prerequisites" class=md-nav__link> GUI Development Prerequisites </a> </li> <li class=md-nav__item> <a href=../../../onos-gui/docs/deployment/ title="How to Deploy and Run with Helm?" class=md-nav__link> How to Deploy and Run with Helm? </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7 type=checkbox id=nav-7> <label class=md-nav__link for=nav-7> Test Tools </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-7> Test Tools </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../helmit/docs/cli/ title="Getting Started with Helmit" class=md-nav__link> Getting Started with Helmit </a> </li> <li class=md-nav__item> <a href=../../../helmit/docs/api/ title="Kubernetes and Helm APIs" class=md-nav__link> Kubernetes and Helm APIs </a> </li> <li class=md-nav__item> <a href=../../../helmit/docs/testing/ title=Testing class=md-nav__link> Testing </a> </li> <li class=md-nav__item> <a href=../../../helmit/docs/benchmarking/ title=Benchmarking class=md-nav__link> Benchmarking </a> </li> <li class=md-nav__item> <a href=../../../helmit/docs/simulation/ title="Randomized Simulations" class=md-nav__link> Randomized Simulations </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8 type=checkbox id=nav-8> <label class=md-nav__link for=nav-8> Logging and Monitoring </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-8> Logging and Monitoring </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8-1 type=checkbox id=nav-8-1> <label class=md-nav__link for=nav-8-1> Logging </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-8-1> Logging </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../onos-lib-go/docs/logging/logging/ title="Overview of Logging" class=md-nav__link> Overview of Logging </a> </li> <li class=md-nav__item> <a href=../../../onos-lib-go/docs/logging/api/logging/ title="Logging API" class=md-nav__link> Logging API </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../tlaplus-monitor/docs/ title="Conformance Monitoring with TLA+" class=md-nav__link> Conformance Monitoring with TLA+ </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#usage title=Usage class=md-nav__link> Usage </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#global-flags title="Global Flags" class=md-nav__link> Global Flags </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#example-commands title="Example Commands" class=md-nav__link> Example Commands </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#listing-of-configuration-model-plugins title="Listing of configuration model plugins" class=md-nav__link> Listing of configuration model plugins </a> </li> <li class=md-nav__item> <a href=#list-configuration-transactions title="List configuration transactions" class=md-nav__link> List configuration transactions </a> </li> <li class=md-nav__item> <a href=#rollback-network-change title="Rollback Network Change" class=md-nav__link> Rollback Network Change </a> </li> <li class=md-nav__item> <a href=#listing-target-configurations title="Listing target configurations" class=md-nav__link> Listing target configurations </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <!--
SPDX-FileCopyrightText: 2019-present Open Networking Foundation <info@opennetworking.org>

SPDX-License-Identifier: Apache-2.0
--> <h1 id=administrative-command-line>Administrative Command-Line</h1> <p>The project provides a command-line facilities for remotely interacting with the administrative service of the <code>onos-config</code> server.</p> <p>The commands are available at run-time using the consolidated <code>onos</code> client hosted in the <code>onos-cli</code> repository, but their implementation is hosted and built here.</p> <p>The documentation about building and deploying the consolidated <code>onos</code> command-line client or its Docker container is available in the <code>onos-cli</code> GitHub repository.</p> <h2 id=usage>Usage</h2> <div class=codehilite><pre><span></span>&gt; onos config --help
ONOS configuration subsystem commands

Usage:
  onos config <span class=o>[</span>command<span class=o>]</span>

Available Commands:
  config      Manage the CLI configuration
  get         Get config resources
  log         logging api commands
  rollback    Rolls-back a transaction
  watch       Watch <span class=k>for</span> updates to a config resource <span class=nb>type</span>

Flags:
      --auth-header string       Auth header in the form <span class=s1>&#39;Bearer &lt;base64&gt;&#39;</span>
      -h, --help                 <span class=nb>help</span> <span class=k>for</span> config
      --no-tls                   <span class=k>if</span> present, <span class=k>do</span> not use TLS
      --service-address string   the gRPC endpoint <span class=o>(</span>default <span class=s2>&quot;onos-config:5150&quot;</span><span class=o>)</span>
      --tls-cert-path string     the path to the TLS certificate
      --tls-key-path string      the path to the TLS key

Use <span class=s2>&quot;onos config [command] --help&quot;</span> <span class=k>for</span> more information about a command.
</pre></div> <h3 id=global-flags>Global Flags</h3> <p>Since the <code>onos</code> command is a client, it requires the address of the server as well as the paths to the key and the certificate to establish secure connection to the server.</p> <p>These options are global to all commands and can be persisted to avoid having to specify them for each command. For example, you can set the default server address as follows:</p> <div class=codehilite><pre><span></span>&gt; onos config config <span class=nb>set</span> address onos-config-server:5150
</pre></div> <p>Subsequent usages of the <code>onos</code> command can then abstain from using the <code>--address</code> option to indicate the server address, resulting in easier usage.</p> <h2 id=example-commands>Example Commands</h2> <h3 id=listing-of-configuration-model-plugins>Listing of configuration model plugins</h3> <p>A configuration model plugin is a sidecar container that runs in the same pod as <code>onos-config</code>. Each plugin represents a complete set of YANG models supported by a particular device type. Each plugin has a name (sometimes referred to as type) and a version. </p> <p>To see the list of currently loaded plugins use the command:</p> <div class=codehilite><pre><span></span>&gt; onos config get plugins
ID                  STATUS    ENDPOINT          INFO.NAME     INFO.VERSION    ERROR
testdevice-2.0.0    Loaded    localhost:5154    testdevice    <span class=m>2</span>.0.0
devicesim-1.0.0     Loaded    localhost:5152    devicesim     <span class=m>1</span>.0.0
testdevice-1.0.0    Loaded    localhost:5153    testdevice    <span class=m>1</span>.0.0
</pre></div> <p>See more information on building and deploying configuration model plugins in <code>config-models</code> repository.</p> <h3 id=list-configuration-transactions>List configuration transactions</h3> <p>Configuration changes made through the <code>onos-config</code> gNMI interface are represented as <em>transactions</em>. To view the list of these transactions use the following command:</p> <div class=codehilite><pre><span></span>&gt; onos config get transactions
ID                                           INDEX    STATUS.STATE    TRANSACTIONTYPE    CREATED                                  UPDATED                                  DELETED    USERNAME    TRANSACTIONSTRATEGY.ISOLATION    TRANSACTIONSTRATEGY.SYNCHRONICITY
uuid:1865ad96-6159-4050-b9cf-7d1f7ece54c4    <span class=m>1</span>        APPLIED         Change             <span class=m>2022</span>-02-23 <span class=m>17</span>:18:21.8499168 +0000 UTC    <span class=m>2022</span>-02-23 <span class=m>17</span>:18:22.0512956 +0000 UTC    &lt;nil&gt;                  DEFAULT                          SYNCHRONOUS
uuid:9acdbe9e-f8c3-4797-b77e-d4a324270564    <span class=m>2</span>        APPLIED         Change             <span class=m>2022</span>-02-23 <span class=m>17</span>:19:07.1359094 +0000 UTC    <span class=m>2022</span>-02-23 <span class=m>17</span>:19:07.4341523 +0000 UTC    &lt;nil&gt;                  DEFAULT                          SYNCHRONOUS
uuid:745d9944-49aa-441f-8394-ad2e4ad70543    <span class=m>3</span>        APPLIED         Change             <span class=m>2022</span>-02-23 <span class=m>17</span>:19:37.6194301 +0000 UTC    <span class=m>2022</span>-02-23 <span class=m>17</span>:20:16.6840849 +0000 UTC    &lt;nil&gt;                  DEFAULT                          ASYNCHRONOUS
uuid:e7df0125-3cca-4fab-a002-04ee3a67ef99    <span class=m>4</span>        APPLIED         Change             <span class=m>2022</span>-02-23 <span class=m>17</span>:20:31.5019776 +0000 UTC    <span class=m>2022</span>-02-23 <span class=m>17</span>:20:31.6836693 +0000 UTC    &lt;nil&gt;                  DEFAULT                          SYNCHRONOUS
uuid:63bcdfd8-b9bc-4cfa-a20d-93159cd384f5    <span class=m>5</span>        APPLIED         Rollback           <span class=m>2022</span>-02-23 <span class=m>17</span>:20:31.7456597 +0000 UTC    <span class=m>2022</span>-02-23 <span class=m>17</span>:20:31.9213865 +0000 UTC    &lt;nil&gt;                  DEFAULT                          SYNCHRONOUS
uuid:8edb7b9d-4571-4fac-9f4c-d876c0d4cafe    <span class=m>6</span>        APPLIED         Change             <span class=m>2022</span>-02-23 <span class=m>17</span>:20:46.6952989 +0000 UTC    <span class=m>2022</span>-02-23 <span class=m>17</span>:20:46.8966023 +0000 UTC    &lt;nil&gt;                  DEFAULT                          SYNCHRONOUS
uuid:734cfad1-9154-42c3-9e73-d6bec1101267    <span class=m>7</span>        APPLIED         Change             <span class=m>2022</span>-02-23 <span class=m>17</span>:20:46.9112378 +0000 UTC    <span class=m>2022</span>-02-23 <span class=m>17</span>:20:47.0962395 +0000 UTC    &lt;nil&gt;                  DEFAULT                          SYNCHRONOUS
uuid:095a064a-7f37-457a-933d-b991029127da    <span class=m>8</span>        APPLIED         Change             <span class=m>2022</span>-02-23 <span class=m>17</span>:21:02.2661133 +0000 UTC    <span class=m>2022</span>-02-23 <span class=m>17</span>:21:02.4532263 +0000 UTC    &lt;nil&gt;                  DEFAULT                          SYNCHRONOUS
</pre></div> <p>To continuously monitor the transaction events, you can use a similar command <code>onos config watch transactions</code>.</p> <h3 id=rollback-network-change>Rollback Network Change</h3> <p>To rollback the most recent transaction, and revert the configuration of all targets involved in that transaction to their prior state, use the <code>rollback</code> command and specify the <code>Index</code> of the most recent transaction.</p> <div class=codehilite><pre><span></span>&gt; onos config rollback <span class=m>8</span>
</pre></div> <h3 id=listing-target-configurations>Listing target configurations</h3> <p>To list the status of all configurable targets use the following command: ```onos config get configurations ID TARGETID STATUS.STATE INDEX square-stingray square-stingray SYNCHRONIZED 39 fond-bulldog fond-bulldog SYNCHRONIZED 47 reincarnated-target reincarnated-target SYNCHRONIZED 3 guiding-whale guiding-whale SYNCHRONIZED 0 expert-tortoise expert-tortoise SYNCHRONIZED 33 gentle-polliwog gentle-polliwog SYNCHRONIZED 44 new-bull new-bull SYNCHRONIZED 1</p> <div class=codehilite><pre><span></span><span class=n>Similarly</span><span class=p>,</span> <span class=k>to</span> <span class=n>continuously</span> <span class=n>monitor</span> <span class=n>ongoing</span> <span class=n>changes</span> <span class=k>to</span> <span class=n>configurations</span><span class=p>,</span> <span class=n>you</span> <span class=n>can</span> <span class=n>use</span> <span class=n>the</span> <span class=o>`</span><span class=n>onos</span> <span class=n>config</span> <span class=n>watch</span> <span class=n>configurations</span><span class=o>`</span><span class=p>.</span>

<span class=k>To</span> <span class=k>get</span> <span class=n>details</span> <span class=k>on</span> <span class=n>the</span> <span class=k>current</span> <span class=n>configuration</span> <span class=k>for</span> <span class=n>a</span> <span class=k>specific</span> <span class=n>target</span><span class=p>,</span> <span class=n>use</span><span class=p>:</span>
<span class=o>```</span><span class=n>onos</span> <span class=n>config</span> <span class=k>get</span> <span class=n>configuration</span> <span class=n>square</span><span class=o>-</span><span class=n>stingray</span> <span class=o>-</span><span class=n>v</span>
<span class=n>ID</span>                 <span class=n>TARGETID</span>           <span class=n>STATUS</span><span class=p>.</span><span class=k>STATE</span>    <span class=k>INDEX</span>    <span class=k>VALUES</span>
<span class=n>square</span><span class=o>-</span><span class=n>stingray</span>    <span class=n>square</span><span class=o>-</span><span class=n>stingray</span>    <span class=n>SYNCHRONIZED</span>    <span class=mi>39</span>       <span class=k>map</span><span class=p>[</span><span class=o>/</span><span class=k>system</span><span class=o>/</span><span class=n>config</span><span class=o>/</span><span class=n>login</span><span class=o>-</span><span class=n>banner</span><span class=p>:</span><span class=n>path</span><span class=p>:</span><span class=ss>&quot;/system/config/login-banner&quot;</span> <span class=n>value</span><span class=p>:</span><span class=o>&lt;</span><span class=n>bytes</span><span class=p>:</span><span class=ss>&quot;2&quot;</span> <span class=k>type</span><span class=p>:</span><span class=n>STRING</span> <span class=o>&gt;</span>  <span class=o>/</span><span class=k>system</span><span class=o>/</span><span class=n>config</span><span class=o>/</span><span class=n>motd</span><span class=o>-</span><span class=n>banner</span><span class=p>:</span><span class=n>path</span><span class=p>:</span><span class=ss>&quot;/system/config/motd-banner&quot;</span> <span class=n>value</span><span class=p>:</span><span class=o>&lt;</span><span class=n>bytes</span><span class=p>:</span><span class=ss>&quot;1&quot;</span> <span class=k>type</span><span class=p>:</span><span class=n>STRING</span> <span class=o>&gt;</span> <span class=p>]</span>
</pre></div> </article> </div> </div> </main> <!-- Application footer --> <footer class=md-footer> <!-- Further information --> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <!-- Copyright and theme information --> <div class=md-footer-copyright> powered by <a href=https://www.mkdocs.org title=MkDocs>MkDocs</a> and <a href=https://squidfunk.github.io/mkdocs-material/ title="Material for MkDocs"> Material for MkDocs</a> </div> <!-- Social links --> <div class=md-footer-social> <link rel=stylesheet href=../../../assets/fonts/font-awesome.css> <a href=https://github.com/onosproject class="md-footer-social__link fa fa-"></a> <a href=https://onosproject.slack.com/ class="md-footer-social__link fa fa-"></a> <a href=https://www.youtube.com/channel/UCTQaOpqno48GTimdwyfytFw class="md-footer-social__link fa fa-"></a> </div> </div> </div> </footer> </div> <script src=../../../assets/javascripts/application.d9aa80ab.js></script> <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script> <script src=../../../theme/js/onos-menu.js></script> </body> </html>